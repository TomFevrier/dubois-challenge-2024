import{d as gn,g as vn,i as F,s as X,j as tn,r as Y,t as O,k as W,m as C,p as L,n as Lt,o as T,q as K,u as xn,v as Tt,w as Dt,A as b,h as V,a as Ct,x as en}from"./utils.YkUfOGZi.js";function qt(n){if(!n.ok)throw new Error(n.status+" "+n.statusText);if(!(n.status===204||n.status===205))return n.json()}function gi(n,t){return fetch(n,t).then(qt)}function*Ft(n){for(const t of n)yield*t}function ht(n){return Array.from(Ft(n))}function Fn(n){return[gn(n[1],n[0]),vn(n[2])]}function un(n){var t=n[0],r=n[1],i=F(r);return[i*F(t),i*X(t),X(r)]}function _n(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function Pn(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Tn(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function wn(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function Xn(n){var t=tn(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function Yn(n,t){function r(i,e){return i=n(i,e),t(i[0],i[1])}return n.invert&&t.invert&&(r.invert=function(i,e){return i=t.invert(i,e),i&&n.invert(i[0],i[1])}),r}function Zn(n,t){return C(n)>L&&(n-=Math.round(n/O)*O),[n,t]}Zn.invert=Zn;function gt(n,t,r){return(n%=O)?t||r?Yn(bn(n),nt(t,r)):bn(n):t||r?nt(t,r):Zn}function kn(n){return function(t,r){return t+=n,C(t)>L&&(t-=Math.round(t/O)*O),[t,r]}}function bn(n){var t=kn(n);return t.invert=kn(-n),t}function nt(n,t){var r=F(n),i=X(n),e=F(t),a=X(t);function s(u,v){var g=F(v),o=F(u)*g,f=X(u)*g,l=X(v),p=l*r+o*i;return[gn(f*e-p*a,o*r-l*i),vn(p*e+f*a)]}return s.invert=function(u,v){var g=F(v),o=F(u)*g,f=X(u)*g,l=X(v),p=l*e-f*a;return[gn(f*e+l*a,o*r+p*i),vn(p*r-o*i)]},s}function vi(n){n=gt(n[0]*Y,n[1]*Y,n.length>2?n[2]*Y:0);function t(r){return r=n(r[0]*Y,r[1]*Y),r[0]*=W,r[1]*=W,r}return t.invert=function(r){return r=n.invert(r[0]*Y,r[1]*Y),r[0]*=W,r[1]*=W,r},t}function Xt(n,t,r,i,e,a){if(r){var s=F(t),u=X(t),v=i*r;e==null?(e=t+i*O,a=t-v/2):(e=tt(s,e),a=tt(s,a),(i>0?e<a:e>a)&&(e+=i*O));for(var g,o=e;i>0?o>a:o<a;o-=v)g=Fn([s,-u*F(o),-u*X(o)]),n.point(g[0],g[1])}}function tt(n,t){t=un(t),t[0]-=n,Xn(t);var r=Lt(-t[1]);return((-t[2]<0?-r:r)+O-T)%O}function vt(){var n=[],t;return{point:function(r,i,e){t.push([r,i,e])},lineStart:function(){n.push(t=[])},lineEnd:K,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var r=n;return n=[],t=null,r}}}function $n(n,t){return C(n[0]-t[0])<T&&C(n[1]-t[1])<T}function Rn(n,t,r,i){this.x=n,this.z=t,this.o=r,this.e=i,this.v=!1,this.n=this.p=null}function St(n,t,r,i,e){var a=[],s=[],u,v;if(n.forEach(function(h){if(!((w=h.length-1)<=0)){var w,S=h[0],P=h[w],E;if($n(S,P)){if(!S[2]&&!P[2]){for(e.lineStart(),u=0;u<w;++u)e.point((S=h[u])[0],S[1]);e.lineEnd();return}P[0]+=2*T}a.push(E=new Rn(S,h,null,!0)),s.push(E.o=new Rn(S,null,E,!1)),a.push(E=new Rn(P,h,null,!1)),s.push(E.o=new Rn(P,null,E,!0))}}),!!a.length){for(s.sort(t),it(a),it(s),u=0,v=s.length;u<v;++u)s[u].e=r=!r;for(var g=a[0],o,f;;){for(var l=g,p=!0;l.v;)if((l=l.n)===g)return;o=l.z,e.lineStart();do{if(l.v=l.o.v=!0,l.e){if(p)for(u=0,v=o.length;u<v;++u)e.point((f=o[u])[0],f[1]);else i(l.x,l.n.x,1,e);l=l.n}else{if(p)for(o=l.p.z,u=o.length-1;u>=0;--u)e.point((f=o[u])[0],f[1]);else i(l.x,l.p.x,-1,e);l=l.p}l=l.o,o=l.z,p=!p}while(!l.v);e.lineEnd()}}}function it(n){if(t=n.length){for(var t,r=0,i=n[0],e;++r<t;)i.n=e=n[r],e.p=i,i=e;i.n=e=n[0],e.p=i}}function Dn(n){return C(n[0])<=L?n[0]:Dt(n[0])*((C(n[0])+L)%O-L)}function Yt(n,t){var r=Dn(t),i=t[1],e=X(i),a=[X(r),-F(r),0],s=0,u=0,v=new b;e===1?i=V+T:e===-1&&(i=-V-T);for(var g=0,o=n.length;g<o;++g)if(l=(f=n[g]).length)for(var f,l,p=f[l-1],h=Dn(p),w=p[1]/2+xn,S=X(w),P=F(w),E=0;E<l;++E,h=d,S=$,P=z,p=R){var R=f[E],d=Dn(R),N=R[1]/2+xn,$=X(N),z=F(N),M=d-h,I=M>=0?1:-1,D=I*M,_=D>L,B=S*$;if(v.add(gn(B*I*X(D),P*z+B*F(D))),s+=_?M+I*O:M,_^h>=r^d>=r){var q=Pn(un(p),un(R));Xn(q);var A=Pn(a,q);Xn(A);var c=(_^M>=0?-1:1)*vn(A[2]);(i>c||i===c&&(q[0]||q[1]))&&(u+=_^M>=0?1:-1)}}return(s<-T||s<T&&v<-Tt)^u&1}function dt(n,t,r,i){return function(e){var a=t(e),s=vt(),u=t(s),v=!1,g,o,f,l={point:p,lineStart:w,lineEnd:S,polygonStart:function(){l.point=P,l.lineStart=E,l.lineEnd=R,o=[],g=[]},polygonEnd:function(){l.point=p,l.lineStart=w,l.lineEnd=S,o=ht(o);var d=Yt(g,i);o.length?(v||(e.polygonStart(),v=!0),St(o,Bt,d,r,e)):d&&(v||(e.polygonStart(),v=!0),e.lineStart(),r(null,null,1,e),e.lineEnd()),v&&(e.polygonEnd(),v=!1),o=g=null},sphere:function(){e.polygonStart(),e.lineStart(),r(null,null,1,e),e.lineEnd(),e.polygonEnd()}};function p(d,N){n(d,N)&&e.point(d,N)}function h(d,N){a.point(d,N)}function w(){l.point=h,a.lineStart()}function S(){l.point=p,a.lineEnd()}function P(d,N){f.push([d,N]),u.point(d,N)}function E(){u.lineStart(),f=[]}function R(){P(f[0][0],f[0][1]),u.lineEnd();var d=u.clean(),N=s.result(),$,z=N.length,M,I,D;if(f.pop(),g.push(f),f=null,!!z){if(d&1){if(I=N[0],(M=I.length-1)>0){for(v||(e.polygonStart(),v=!0),e.lineStart(),$=0;$<M;++$)e.point((D=I[$])[0],D[1]);e.lineEnd()}return}z>1&&d&2&&N.push(N.pop().concat(N.shift())),o.push(N.filter(Zt))}}return l}}function Zt(n){return n.length>1}function Bt(n,t){return((n=n.x)[0]<0?n[1]-V-T:V-n[1])-((t=t.x)[0]<0?t[1]-V-T:V-t[1])}const rt=dt(function(){return!0},Ht,Jt,[-L,-V]);function Ht(n){var t=NaN,r=NaN,i=NaN,e;return{lineStart:function(){n.lineStart(),e=1},point:function(a,s){var u=a>0?L:-L,v=C(a-t);C(v-L)<T?(n.point(t,r=(r+s)/2>0?V:-V),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(u,r),n.point(a,r),e=0):i!==u&&v>=L&&(C(t-i)<T&&(t-=i*T),C(a-u)<T&&(a-=u*T),r=Wt(t,r,a,s),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(u,r),e=0),n.point(t=a,r=s),i=u},lineEnd:function(){n.lineEnd(),t=r=NaN},clean:function(){return 2-e}}}function Wt(n,t,r,i){var e,a,s=X(n-r);return C(s)>T?Ct((X(t)*(a=F(i))*X(r)-X(i)*(e=F(t))*X(n))/(e*a*s)):(t+i)/2}function Jt(n,t,r,i){var e;if(n==null)e=r*V,i.point(-L,e),i.point(0,e),i.point(L,e),i.point(L,0),i.point(L,-e),i.point(0,-e),i.point(-L,-e),i.point(-L,0),i.point(-L,e);else if(C(n[0]-t[0])>T){var a=n[0]<t[0]?L:-L;e=r*a/2,i.point(-a,e),i.point(0,e),i.point(a,e)}else i.point(t[0],t[1])}function Gt(n){var t=F(n),r=6*Y,i=t>0,e=C(t)>T;function a(o,f,l,p){Xt(p,n,r,l,o,f)}function s(o,f){return F(o)*F(f)>t}function u(o){var f,l,p,h,w;return{lineStart:function(){h=p=!1,w=1},point:function(S,P){var E=[S,P],R,d=s(S,P),N=i?d?0:g(S,P):d?g(S+(S<0?L:-L),P):0;if(!f&&(h=p=d)&&o.lineStart(),d!==p&&(R=v(f,E),(!R||$n(f,R)||$n(E,R))&&(E[2]=1)),d!==p)w=0,d?(o.lineStart(),R=v(E,f),o.point(R[0],R[1])):(R=v(f,E),o.point(R[0],R[1],2),o.lineEnd()),f=R;else if(e&&f&&i^d){var $;!(N&l)&&($=v(E,f,!0))&&(w=0,i?(o.lineStart(),o.point($[0][0],$[0][1]),o.point($[1][0],$[1][1]),o.lineEnd()):(o.point($[1][0],$[1][1]),o.lineEnd(),o.lineStart(),o.point($[0][0],$[0][1],3)))}d&&(!f||!$n(f,E))&&o.point(E[0],E[1]),f=E,p=d,l=N},lineEnd:function(){p&&o.lineEnd(),f=null},clean:function(){return w|(h&&p)<<1}}}function v(o,f,l){var p=un(o),h=un(f),w=[1,0,0],S=Pn(p,h),P=_n(S,S),E=S[0],R=P-E*E;if(!R)return!l&&o;var d=t*P/R,N=-t*E/R,$=Pn(w,S),z=wn(w,d),M=wn(S,N);Tn(z,M);var I=$,D=_n(z,I),_=_n(I,I),B=D*D-_*(_n(z,z)-1);if(!(B<0)){var q=tn(B),A=wn(I,(-D-q)/_);if(Tn(A,z),A=Fn(A),!l)return A;var c=o[0],y=f[0],Z=o[1],H=f[1],J;y<c&&(J=c,c=y,y=J);var ln=y-c,m=C(ln-L)<T,k=m||ln<T;if(!m&&H<Z&&(J=Z,Z=H,H=J),k?m?Z+H>0^A[1]<(C(A[0]-c)<T?Z:H):Z<=A[1]&&A[1]<=H:ln>L^(c<=A[0]&&A[0]<=y)){var j=wn(I,(-D+q)/_);return Tn(j,z),[A,Fn(j)]}}}function g(o,f){var l=i?n:L-n,p=0;return o<-l?p|=1:o>l&&(p|=2),f<-l?p|=4:f>l&&(p|=8),p}return dt(s,u,a,i?[0,-n]:[-L,n-L])}function Kt(n,t,r,i,e,a){var s=n[0],u=n[1],v=t[0],g=t[1],o=0,f=1,l=v-s,p=g-u,h;if(h=r-s,!(!l&&h>0)){if(h/=l,l<0){if(h<o)return;h<f&&(f=h)}else if(l>0){if(h>f)return;h>o&&(o=h)}if(h=e-s,!(!l&&h<0)){if(h/=l,l<0){if(h>f)return;h>o&&(o=h)}else if(l>0){if(h<o)return;h<f&&(f=h)}if(h=i-u,!(!p&&h>0)){if(h/=p,p<0){if(h<o)return;h<f&&(f=h)}else if(p>0){if(h>f)return;h>o&&(o=h)}if(h=a-u,!(!p&&h<0)){if(h/=p,p<0){if(h>f)return;h>o&&(o=h)}else if(p>0){if(h<o)return;h<f&&(f=h)}return o>0&&(n[0]=s+o*l,n[1]=u+o*p),f<1&&(t[0]=s+f*l,t[1]=u+f*p),!0}}}}}var cn=1e9,Nn=-cn;function Ot(n,t,r,i){function e(g,o){return n<=g&&g<=r&&t<=o&&o<=i}function a(g,o,f,l){var p=0,h=0;if(g==null||(p=s(g,f))!==(h=s(o,f))||v(g,o)<0^f>0)do l.point(p===0||p===3?n:r,p>1?i:t);while((p=(p+f+4)%4)!==h);else l.point(o[0],o[1])}function s(g,o){return C(g[0]-n)<T?o>0?0:3:C(g[0]-r)<T?o>0?2:1:C(g[1]-t)<T?o>0?1:0:o>0?3:2}function u(g,o){return v(g.x,o.x)}function v(g,o){var f=s(g,1),l=s(o,1);return f!==l?f-l:f===0?o[1]-g[1]:f===1?g[0]-o[0]:f===2?g[1]-o[1]:o[0]-g[0]}return function(g){var o=g,f=vt(),l,p,h,w,S,P,E,R,d,N,$,z={point:M,lineStart:B,lineEnd:q,polygonStart:D,polygonEnd:_};function M(c,y){e(c,y)&&o.point(c,y)}function I(){for(var c=0,y=0,Z=p.length;y<Z;++y)for(var H=p[y],J=1,ln=H.length,m=H[0],k,j,En=m[0],rn=m[1];J<ln;++J)k=En,j=rn,m=H[J],En=m[0],rn=m[1],j<=i?rn>i&&(En-k)*(i-j)>(rn-j)*(n-k)&&++c:rn<=i&&(En-k)*(i-j)<(rn-j)*(n-k)&&--c;return c}function D(){o=f,l=[],p=[],$=!0}function _(){var c=I(),y=$&&c,Z=(l=ht(l)).length;(y||Z)&&(g.polygonStart(),y&&(g.lineStart(),a(null,null,1,g),g.lineEnd()),Z&&St(l,u,c,a,g),g.polygonEnd()),o=g,l=p=h=null}function B(){z.point=A,p&&p.push(h=[]),N=!0,d=!1,E=R=NaN}function q(){l&&(A(w,S),P&&d&&f.rejoin(),l.push(f.result())),z.point=M,d&&o.lineEnd()}function A(c,y){var Z=e(c,y);if(p&&h.push([c,y]),N)w=c,S=y,P=Z,N=!1,Z&&(o.lineStart(),o.point(c,y));else if(Z&&d)o.point(c,y);else{var H=[E=Math.max(Nn,Math.min(cn,E)),R=Math.max(Nn,Math.min(cn,R))],J=[c=Math.max(Nn,Math.min(cn,c)),y=Math.max(Nn,Math.min(cn,y))];Kt(H,J,n,t,r,i)?(d||(o.lineStart(),o.point(H[0],H[1])),o.point(J[0],J[1]),Z||o.lineEnd(),$=!1):Z&&(o.lineStart(),o.point(c,y),$=!1)}E=c,R=y,d=Z}return z}}const Bn=n=>n;var Cn=new b,Hn=new b,Et,_t,Wn,Jn,x={point:K,lineStart:K,lineEnd:K,polygonStart:function(){x.lineStart=Qt,x.lineEnd=Vt},polygonEnd:function(){x.lineStart=x.lineEnd=x.point=K,Cn.add(C(Hn)),Hn=new b},result:function(){var n=Cn/2;return Cn=new b,n}};function Qt(){x.point=Ut}function Ut(n,t){x.point=wt,Et=Wn=n,_t=Jn=t}function wt(n,t){Hn.add(Jn*n-Wn*t),Wn=n,Jn=t}function Vt(){wt(Et,_t)}var fn=1/0,yn=fn,Sn=-fn,Mn=Sn,In={point:mt,lineStart:K,lineEnd:K,polygonStart:K,polygonEnd:K,result:function(){var n=[[fn,yn],[Sn,Mn]];return Sn=Mn=-(yn=fn=1/0),n}};function mt(n,t){n<fn&&(fn=n),n>Sn&&(Sn=n),t<yn&&(yn=t),t>Mn&&(Mn=t)}var Gn=0,Kn=0,an=0,zn=0,An=0,on=0,On=0,Qn=0,sn=0,Rt,Nt,Q,U,G={point:nn,lineStart:et,lineEnd:ot,polygonStart:function(){G.lineStart=kt,G.lineEnd=bt},polygonEnd:function(){G.point=nn,G.lineStart=et,G.lineEnd=ot},result:function(){var n=sn?[On/sn,Qn/sn]:on?[zn/on,An/on]:an?[Gn/an,Kn/an]:[NaN,NaN];return Gn=Kn=an=zn=An=on=On=Qn=sn=0,n}};function nn(n,t){Gn+=n,Kn+=t,++an}function et(){G.point=jt}function jt(n,t){G.point=xt,nn(Q=n,U=t)}function xt(n,t){var r=n-Q,i=t-U,e=tn(r*r+i*i);zn+=e*(Q+n)/2,An+=e*(U+t)/2,on+=e,nn(Q=n,U=t)}function ot(){G.point=nn}function kt(){G.point=ni}function bt(){$t(Rt,Nt)}function ni(n,t){G.point=$t,nn(Rt=Q=n,Nt=U=t)}function $t(n,t){var r=n-Q,i=t-U,e=tn(r*r+i*i);zn+=e*(Q+n)/2,An+=e*(U+t)/2,on+=e,e=U*n-Q*t,On+=e*(Q+n),Qn+=e*(U+t),sn+=e*3,nn(Q=n,U=t)}function Pt(n){this._context=n}Pt.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._context.moveTo(n,t),this._point=1;break}case 1:{this._context.lineTo(n,t);break}default:{this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,O);break}}},result:K};var Un=new b,qn,yt,Mt,pn,hn,dn={point:K,lineStart:function(){dn.point=ti},lineEnd:function(){qn&&It(yt,Mt),dn.point=K},polygonStart:function(){qn=!0},polygonEnd:function(){qn=null},result:function(){var n=+Un;return Un=new b,n}};function ti(n,t){dn.point=It,yt=pn=n,Mt=hn=t}function It(n,t){pn-=n,hn-=t,Un.add(tn(pn*pn+hn*hn)),pn=n,hn=t}let ut,Ln,ft,lt;class ct{constructor(t){this._append=t==null?zt:ii(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,r){switch(this._point){case 0:{this._append`M${t},${r}`,this._point=1;break}case 1:{this._append`L${t},${r}`;break}default:{if(this._append`M${t},${r}`,this._radius!==ft||this._append!==Ln){const i=this._radius,e=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,ft=i,Ln=this._append,lt=this._,this._=e}this._+=lt;break}}}result(){const t=this._;return this._="",t.length?t:null}}function zt(n){let t=1;this._+=n[0];for(const r=n.length;t<r;++t)this._+=arguments[t]+n[t]}function ii(n){const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);if(t>15)return zt;if(t!==ut){const r=10**t;ut=t,Ln=function(e){let a=1;this._+=e[0];for(const s=e.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+e[a]}}return Ln}function Si(n,t){let r=3,i=4.5,e,a;function s(u){return u&&(typeof i=="function"&&a.pointRadius(+i.apply(this,arguments)),en(u,e(a))),a.result()}return s.area=function(u){return en(u,e(x)),x.result()},s.measure=function(u){return en(u,e(dn)),dn.result()},s.bounds=function(u){return en(u,e(In)),In.result()},s.centroid=function(u){return en(u,e(G)),G.result()},s.projection=function(u){return arguments.length?(e=u==null?(n=null,Bn):(n=u).stream,s):n},s.context=function(u){return arguments.length?(a=u==null?(t=null,new ct(r)):new Pt(t=u),typeof i!="function"&&a.pointRadius(i),s):t},s.pointRadius=function(u){return arguments.length?(i=typeof u=="function"?u:(a.pointRadius(+u),+u),s):i},s.digits=function(u){if(!arguments.length)return r;if(u==null)r=null;else{const v=Math.floor(u);if(!(v>=0))throw new RangeError(`invalid digits: ${u}`);r=v}return t===null&&(a=new ct(r)),s},s.projection(n).digits(r).context(t)}function mn(n){return function(t){var r=new Vn;for(var i in n)r[i]=n[i];return r.stream=t,r}}function Vn(){}Vn.prototype={constructor:Vn,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function jn(n,t,r){var i=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),i!=null&&n.clipExtent(null),en(r,n.stream(In)),t(In.result()),i!=null&&n.clipExtent(i),n}function At(n,t,r){return jn(n,function(i){var e=t[1][0]-t[0][0],a=t[1][1]-t[0][1],s=Math.min(e/(i[1][0]-i[0][0]),a/(i[1][1]-i[0][1])),u=+t[0][0]+(e-s*(i[1][0]+i[0][0]))/2,v=+t[0][1]+(a-s*(i[1][1]+i[0][1]))/2;n.scale(150*s).translate([u,v])},r)}function ri(n,t,r){return At(n,[[0,0],t],r)}function ei(n,t,r){return jn(n,function(i){var e=+t,a=e/(i[1][0]-i[0][0]),s=(e-a*(i[1][0]+i[0][0]))/2,u=-a*i[0][1];n.scale(150*a).translate([s,u])},r)}function oi(n,t,r){return jn(n,function(i){var e=+t,a=e/(i[1][1]-i[0][1]),s=-a*i[0][0],u=(e-a*(i[1][1]+i[0][1]))/2;n.scale(150*a).translate([s,u])},r)}var at=16,ui=F(30*Y);function st(n,t){return+t?li(n,t):fi(n)}function fi(n){return mn({point:function(t,r){t=n(t,r),this.stream.point(t[0],t[1])}})}function li(n,t){function r(i,e,a,s,u,v,g,o,f,l,p,h,w,S){var P=g-i,E=o-e,R=P*P+E*E;if(R>4*t&&w--){var d=s+l,N=u+p,$=v+h,z=tn(d*d+N*N+$*$),M=vn($/=z),I=C(C($)-1)<T||C(a-f)<T?(a+f)/2:gn(N,d),D=n(I,M),_=D[0],B=D[1],q=_-i,A=B-e,c=E*q-P*A;(c*c/R>t||C((P*q+E*A)/R-.5)>.3||s*l+u*p+v*h<ui)&&(r(i,e,a,s,u,v,_,B,I,d/=z,N/=z,$,w,S),S.point(_,B),r(_,B,I,d,N,$,g,o,f,l,p,h,w,S))}}return function(i){var e,a,s,u,v,g,o,f,l,p,h,w,S={point:P,lineStart:E,lineEnd:d,polygonStart:function(){i.polygonStart(),S.lineStart=N},polygonEnd:function(){i.polygonEnd(),S.lineStart=E}};function P(M,I){M=n(M,I),i.point(M[0],M[1])}function E(){f=NaN,S.point=R,i.lineStart()}function R(M,I){var D=un([M,I]),_=n(M,I);r(f,l,o,p,h,w,f=_[0],l=_[1],o=M,p=D[0],h=D[1],w=D[2],at,i),i.point(f,l)}function d(){S.point=P,i.lineEnd()}function N(){E(),S.point=$,S.lineEnd=z}function $(M,I){R(e=M,I),a=f,s=l,u=p,v=h,g=w,S.point=R}function z(){r(f,l,o,p,h,w,a,s,e,u,v,g,at,i),S.lineEnd=d,d()}return S}}var ci=mn({point:function(n,t){this.stream.point(n*Y,t*Y)}});function ai(n){return mn({point:function(t,r){var i=n(t,r);return this.stream.point(i[0],i[1])}})}function si(n,t,r,i,e){function a(s,u){return s*=i,u*=e,[t+n*s,r-n*u]}return a.invert=function(s,u){return[(s-t)/n*i,(r-u)/n*e]},a}function pt(n,t,r,i,e,a){if(!a)return si(n,t,r,i,e);var s=F(a),u=X(a),v=s*n,g=u*n,o=s/n,f=u/n,l=(u*r-s*t)/n,p=(u*t+s*r)/n;function h(w,S){return w*=i,S*=e,[v*w-g*S+t,r-g*w-v*S]}return h.invert=function(w,S){return[i*(o*w-f*S+l),e*(p-f*w-o*S)]},h}function di(n){return pi(function(){return n})()}function pi(n){var t,r=150,i=480,e=250,a=0,s=0,u=0,v=0,g=0,o,f=0,l=1,p=1,h=null,w=rt,S=null,P,E,R,d=Bn,N=.5,$,z,M,I,D;function _(c){return M(c[0]*Y,c[1]*Y)}function B(c){return c=M.invert(c[0],c[1]),c&&[c[0]*W,c[1]*W]}_.stream=function(c){return I&&D===c?I:I=ci(ai(o)(w($(d(D=c)))))},_.preclip=function(c){return arguments.length?(w=c,h=void 0,A()):w},_.postclip=function(c){return arguments.length?(d=c,S=P=E=R=null,A()):d},_.clipAngle=function(c){return arguments.length?(w=+c?Gt(h=c*Y):(h=null,rt),A()):h*W},_.clipExtent=function(c){return arguments.length?(d=c==null?(S=P=E=R=null,Bn):Ot(S=+c[0][0],P=+c[0][1],E=+c[1][0],R=+c[1][1]),A()):S==null?null:[[S,P],[E,R]]},_.scale=function(c){return arguments.length?(r=+c,q()):r},_.translate=function(c){return arguments.length?(i=+c[0],e=+c[1],q()):[i,e]},_.center=function(c){return arguments.length?(a=c[0]%360*Y,s=c[1]%360*Y,q()):[a*W,s*W]},_.rotate=function(c){return arguments.length?(u=c[0]%360*Y,v=c[1]%360*Y,g=c.length>2?c[2]%360*Y:0,q()):[u*W,v*W,g*W]},_.angle=function(c){return arguments.length?(f=c%360*Y,q()):f*W},_.reflectX=function(c){return arguments.length?(l=c?-1:1,q()):l<0},_.reflectY=function(c){return arguments.length?(p=c?-1:1,q()):p<0},_.precision=function(c){return arguments.length?($=st(z,N=c*c),A()):tn(N)},_.fitExtent=function(c,y){return At(_,c,y)},_.fitSize=function(c,y){return ri(_,c,y)},_.fitWidth=function(c,y){return ei(_,c,y)},_.fitHeight=function(c,y){return oi(_,c,y)};function q(){var c=pt(r,0,0,l,p,f).apply(null,t(a,s)),y=pt(r,i-c[0],e-c[1],l,p,f);return o=gt(u,v,g),z=Yn(t,y),M=Yn(o,z),$=st(z,N),A()}function A(){return I=D=null,_}return function(){return t=n.apply(this,arguments),_.invert=t.invert&&B,q()}}export{Yt as a,Si as g,gi as j,ht as m,di as p,vi as r};
